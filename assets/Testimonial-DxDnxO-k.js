import{r as a,j as t,d as H,b as q}from"./index-Cr3RsN1l.js";import{N as z}from"./NavBar-DeeEsGtS.js";import{F as B}from"./Footer-BIMiGN-z.js";import"./Logo-D2ZR-05k.js";const P="_testimonials_jmnpi_1",G="_testimonials__testimonial_jmnpi_26",I="_testimonials__user_jmnpi_84",D="_testimonials__user__info_jmnpi_103",K="_testimonials__dots_jmnpi_131",O="_active_jmnpi_150",W="_testimonials__addTestimonial_jmnpi_153",X="_testimonials__addTestimonial__starRating_jmnpi_167",Y="_testimonials__addTestimonial__texts_jmnpi_179",J="_testimonials__addTestimonial__form_jmnpi_207",Q="_letterExceeds_jmnpi_238",o={testimonials:P,testimonials__testimonial:G,testimonials__user:I,testimonials__user__info:D,testimonials__dots:K,active:O,testimonials__addTestimonial:W,testimonials__addTestimonial__starRating:X,testimonials__addTestimonial__texts:Y,testimonials__addTestimonial__form:J,letterExceeds:Q},S={display:"flex",alignItems:"center",gap:"16px"},T={display:"flex"};function U({maxRating:s=5,color:_="#fcc419",size:c=48,className:r="",messages:n=[],onSetRating:m=void 0,rating:e}){const[l,h]=a.useState(0);function d(p){m(p),m&&m(p)}const x={lineHeight:"1",margin:"0",color:_,fontSize:`${c/1.5}px`};return t.jsxs("div",{style:S,className:r,children:[t.jsx("div",{style:T,children:Array.from({length:s},(p,u)=>t.jsx(w,{onRate:()=>d(u+1),onHoverIn:()=>h(u+1),onHoverOut:()=>h(0),full:l?l>=u+1:e>=u+1,color:_,size:c},u))}),t.jsx("p",{style:x,children:n.length===s?n[l?l-1:e-1]:l||e||""})]})}function V({maxRating:s=5,color:_="#fcc419",size:c=48,className:r="",defaultRating:n=0}){const[m]=a.useState(n),[e]=a.useState(0),l={lineHeight:"1",margin:"0",color:_,fontSize:`${c/1.5}px`};return t.jsxs("div",{style:S,className:r,children:[t.jsx("div",{style:T,children:Array.from({length:s},(h,d)=>t.jsx(w,{full:e?e>=d+1:m>=d+1,color:_,size:c},d))}),t.jsx("p",{style:l,children:m})]})}function w({onRate:s,full:_,onHoverIn:c,onHoverOut:r,color:n,size:m}){const e={width:`${m}px`,height:`${m}px`,display:"block",cursor:`${s?"pointer":"default"}`};return t.jsx("span",{style:e,role:"button",onClick:s,onMouseEnter:c,onMouseLeave:r,children:_?t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:n,stroke:n,children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none",stroke:n,role:"button",style:e,onClick:s,children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})}function it(){const{testimonials:s,createTestimonial:_}=H(),[c,r]=a.useState(0),n=s.length,m=["Terrible product, would not recommend.","Average quality, nothing special.","Good product, met my expectations.","Great value for money, very satisfied.","Excellent quality, highly recommend!"],{user:e,isAuthenticated:l}=q(),[h,d]=a.useState(0),[x,p]=a.useState(""),[u,N]=a.useState(""),[k,b]=a.useState(""),[E,R]=a.useState("");a.useEffect(()=>{l&&(N(e==null?void 0:e.name),R(e==null?void 0:e.role),b(e==null?void 0:e.avatar))},[l,e==null?void 0:e.name,e==null?void 0:e.role,e==null?void 0:e.avatar]);const g=a.useCallback(()=>{r(i=>i>=n-1?0:i+1)},[n]),f=a.useCallback(()=>{r(i=>i<=0?n-1:i-1)},[n]);a.useEffect(()=>{const i=j=>{j.key==="ArrowRight"?g():j.key==="ArrowLeft"&&f(),j.key==="Escape"&&r(0)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[g,f]);function C(i){if(i.preventDefault(),h===0||x.trim()===""||x.length>300||!l)return;const j={name:u,role:E,message:x,image:k,id:s.length+1,rating:h};_(j),d(0),p(""),r(s.length)}return t.jsxs(t.Fragment,{children:[t.jsxs("main",{className:"main-container",children:[t.jsx(z,{}),t.jsxs("section",{className:"testimonial-container",children:[t.jsxs("div",{className:o.testimonials,children:[s.map((i,j)=>{const{id:A,name:y,role:$,image:L,message:M,rating:F}=i;return t.jsxs("figure",{className:o.testimonials__testimonial,style:{transform:`translateX(${100*(j-c)}%)`},children:[t.jsxs("div",{className:o.testimonials__user,children:[t.jsx("img",{src:L,alt:y}),t.jsxs("div",{className:o.testimonials__user__info,children:[t.jsx("h3",{children:y}),t.jsx("p",{children:$}),t.jsx(V,{size:25,defaultRating:F})]})]}),t.jsx("blockquote",{children:M}),t.jsx("div",{className:o.testimonials__dots,children:s.map(v=>t.jsx("span",{className:`${o.testimonials__dot} ${v.id-1===c?o.active:""}`,onClick:()=>r(v.id-1)},v.id))})]},A)}),t.jsx("button",{onClick:g,children:"→"}),t.jsx("button",{onClick:f,children:"←"})]}),t.jsxs("form",{className:o.testimonials__addTestimonial,onSubmit:C,children:[t.jsx(U,{className:o.testimonials__addTestimonial__starRating,messages:m,size:30,color:"var(--color-brand--2)",onSetRating:d,rating:h}),t.jsxs("div",{className:o.testimonials__addTestimonial__texts,children:[t.jsxs("div",{children:[t.jsx("p",{children:"Write Your Review"}),t.jsxs("small",{className:x.length>300?o.letterExceeds:"",children:["(",x.length,"/300) Letters"]})]}),l?null:t.jsx("p",{children:"Please log in to share your experience with this product."})]}),t.jsxs("div",{className:o.testimonials__addTestimonial__form,children:[t.jsx("textarea",{onChange:i=>p(i.target.value),value:x,placeholder:"Please share your opinion about the product..."}),t.jsx("button",{children:"Add Testimonial"})]})]})]})]}),t.jsx(B,{})]})}export{it as default};
