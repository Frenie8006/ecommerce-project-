import{a as u,r as o,j as s,S as j,c as p,N as h,O as m,b as f,u as v}from"./index-Cr3RsN1l.js";import{I as y}from"./Item-7gaP9LBc.js";import{L as g}from"./Logo-D2ZR-05k.js";const _="_productContainer_10w6o_1",I={productContainer:_},N="_displayItems_rnhez_1",S={displayItems:N},C=300;function L(){const{fetchProducts:e,products:r,isLoadingProducts:c,searchQuery:t}=u(),i=t?r.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())):r;return o.useEffect(function(){e(C)},[e]),s.jsx("div",{className:S.displayItems,children:c?s.jsx(j,{}):s.jsx("ul",{children:i.map(a=>s.jsx(y,{item:a},a.id))})})}const b="_sideBar_320ia_1",P={sideBar:b},E="_productNav_1b0se_1",Q={productNav:E};function w(){const{id:e}=p(),[r,c]=o.useState(e),{carts:t}=u(),i=t.reduce((a,l)=>a+l.quantity,0);return o.useEffect(()=>{e&&e!=="irrelevant"&&c(e)},[e]),s.jsx("nav",{className:Q.productNav,children:s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx(h,{to:r===void 0?"view-product":`${r}`,children:"Main"})}),s.jsxs("li",{children:[t.length>0?s.jsx("span",{children:i}):null,s.jsx(h,{to:"cart",children:"Cart"})]})]})})}function B(){return s.jsxs("div",{className:P.sideBar,children:[s.jsx(g,{isLogo:!0,color:"var(--color-brand--2)"}),s.jsx(w,{}),s.jsx(m,{}),s.jsx("footer",{children:s.jsxs("p",{children:["Â© Copyright ",new Date().getFullYear()," by VeraShop Inc."]})})]})}const $="_user_1x0vh_1",F={user:$};function k(){const{setSearchProduct:e}=u(),[r,c]=o.useState(""),{user:t,logout:i}=f(),a=v();function l(){i(),a("/")}function x(n){const d=n.target.value;e(d),c(d)}return o.useEffect(()=>{const n=localStorage.getItem("searchQuery");n&&(c(n),e(n))},[]),o.useEffect(()=>{localStorage.setItem("searchQuery",r)},[r]),s.jsxs("header",{className:F.user,children:[s.jsxs("div",{children:[s.jsx("img",{src:t.avatar,alt:t.name,title:t.name}),s.jsxs("p",{children:[s.jsx("span",{children:"Balance:"})," $",t.balance.toFixed(2)]}),s.jsx("button",{onClick:l,children:"Logout"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"search",children:s.jsx("ion-icon",{name:"search-outline"})}),s.jsx("input",{id:"search",type:"text",onChange:n=>x(n),value:r,placeholder:"Search products by keyword"})]})]})}function D(){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:I.productContainer,children:[s.jsx(k,{}),s.jsx(B,{}),s.jsx(L,{})]})})}export{D as default};
